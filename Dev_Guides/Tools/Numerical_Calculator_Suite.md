# 🧮 数值计算器套装：可视化你的设计

**文档目标**：定义项目标准的一套数值验证工具（网页版/Excel版），用于在设计阶段可视化 TTK、DPS 和 EHP 曲线。

---

## 1. 工具集总览

所有计算器应集成在 `Design/Calculator/index.html` 中（基于 Chart.js），方便全员访问。

### 1.1 TTK 计算器 (Time To Kill)
*   **输入**：
    *   玩家 DPS 曲线 (随等级 1-100 线性/指数增长)。
    *   怪物 HP 曲线 (随波次 1-50 增长)。
*   **输出 (Line Chart)**：
    *   X轴：时间/等级。
    *   Y轴：击杀一只同级小怪所需的秒数。
*   **设计目标**：TTK 曲线应该是一条**锯齿状波浪线**。玩家刚升级时 TTK 降低（爽感），随着波次推进怪变强 TTK 升高（压力），直到下一次升级。

### 1.2 EHP 可视化器 (Effective HP)
*   **输入**：
    *   护甲公式：`DR = Armor / (Armor + K)`。
    *   闪避率。
*   **输出 (Graph)**：
    *   比较“堆 100 点护甲”和“堆 10% 闪避”在不同阶段的收益。
    *   验证 `K` 值设定是否合理（避免后期护甲收益递减太快）。

### 1.3 经济模拟器 (Monte Carlo Economy)
*   **输入**：
    *   波次刷怪数量。
    *   每怪掉落金币期望。
    *   商店刷新价格与升级费用。
*   **逻辑**：模拟 1000 局游戏，看玩家在第 10 波时平均有多少钱。
*   **目的**：防止经济崩坏（钱多得花不完）或通货紧缩（买不起关键道具）。

---

## 2. Excel 模板规范

对于复杂的静态配表，我们使用标准化的 Excel 模板（见 `Excel_Numerical_Templates.md`）。

### 2.1 三表法结构
1.  **Config (配置页)**：定义全局常量（如 K值、基础暴击倍率）。
2.  **Curve (曲线页)**：拉表，用公式生成 1-100 级的属性。
3.  **Simulation (模拟页)**：选取任意等级，计算单次伤害预期。

---

## 3. 使用指南

1.  **策划**：在设计新怪物时，必须先在 `EHP 可视化器` 中输入其护甲值，确保玩家当前的理论 DPS 能打得动。
2.  **程序**：不要硬编码公式。公式逻辑必须与 `index.html` 中的 JS 实现一致。
3.  **QA**：如果发现“太难打”，先检查计算器的 TTK 预期是否就是设计成“硬核模式”。

---

## 4. 扩展计划
*   增加 **“元素反应收益计算器”**：计算 覆盖率 x 反应倍率 的期望增幅。
*   增加 **“洗词缀概率计算器”**：计算洗出“双暴”词缀需要的平均资源投入。
