# ğŸ¤– AI å¹³è¡¡æµ‹è¯•å·¥å…·ï¼šåˆ©ç”¨ LLM è¿›è¡Œè‡ªåŠ¨åŒ–æ•°å€¼éªŒæ”¶

**æ–‡æ¡£ç›®æ ‡**ï¼šä»‹ç»å¦‚ä½•åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ (Claude 3.5 Sonnet / GPT-4o) ä½œä¸ºâ€œè™šæ‹Ÿæµ‹è¯•å‘˜â€ï¼Œä»¥æä½æˆæœ¬è¿›è¡Œæ•°åƒè½®çš„æ¸¸æˆå¹³è¡¡æ€§æµ‹è¯•ã€‚

---

## 1. ä¸ºä»€ä¹ˆä¸ç”¨çœŸäººæµ‹è¯•ï¼Ÿ

åœ¨ Vertical Slice é˜¶æ®µï¼ŒçœŸäººæµ‹è¯•æå…¶æ˜‚è´µä¸”ä½æ•ˆï¼š
*   **æ—¶é—´æˆæœ¬**ï¼šç©ä¸€å±€ 20 åˆ†é’Ÿï¼Œæµ‹è¯• 100 å±€éœ€è¦ 33 å°æ—¶ã€‚
*   **ä¸»è§‚åå·®**ï¼šå¼€å‘è€…è‡ªå·±ç©é€šå¸¸å¤ªå¼ºï¼Œæ— æ³•æ¨¡æ‹Ÿæ–°æ‰‹ä½“éªŒã€‚
*   **æ•°æ®ç¨€ç–**ï¼šå¾ˆéš¾è¦†ç›–æ‰€æœ‰ Build ç»„åˆã€‚

**AI æ–¹æ¡ˆ**ï¼šè®© LLM æ‰®æ¼”ç‰¹å®šç±»å‹çš„ç©å®¶ï¼Œé˜…è¯»æˆ˜æ–—æ—¥å¿—ï¼Œç»™å‡ºåé¦ˆã€‚

---

## 2. æ¶æ„è®¾è®¡ (The Pipeline)

### 2.1 è§’è‰²æ‰®æ¼” (Personas)
æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸åŒçš„ System Promptï¼š
*   **The Timmy (çˆ½æ¸¸ç©å®¶)**ï¼šå–œæ¬¢å¤§æ•°å­—ï¼Œè®¨åŒå¤æ‚æœºåˆ¶ï¼Œå¯¹ TTK æ•æ„Ÿã€‚
*   **The Spike (ç¡¬æ ¸ç©å®¶)**ï¼šå¯»æ‰¾æœ€ä¼˜è§£ï¼Œå¯¹æ•°å€¼å¹³è¡¡æå…¶æ•æ„Ÿã€‚
*   **The Newbie (èŒæ–°)**ï¼šå®¹æ˜“è¿·è·¯ï¼Œä¸æ‡‚å…ƒç´ å…‹åˆ¶ï¼Œå®¹æ˜“å—æŒ«ã€‚

### 2.2 è¾“å…¥æ•°æ® (Context)
ä¸æ˜¯æŠŠç”»é¢æˆªå›¾ç»™ AIï¼Œè€Œæ˜¯å‘é€**ç»“æ„åŒ–æ—¥å¿— (JSON)**ï¼š
```json
{
  "turn": 15,
  "player": { "hp": 20, "build": "FireMage", "dps": 450 },
  "enemies": [
    { "name": "GoblinElite", "status": "Burning", "hp_percent": 0.1 }
  ],
  "events": [
    "Player cast Fireball, dealt 120 dmg",
    "GoblinElite hit Player, dealt 5 dmg"
  ]
}
```

### 2.3 æç¤ºè¯ (Prompt)
> "ä½ æ˜¯ Timmyï¼Œä¸€ä¸ªå–œæ¬¢å‰²è‰çš„ä¼‘é—²ç©å®¶ã€‚é˜…è¯»ä¸Šé¢çš„æˆ˜æ–—æ—¥å¿—ã€‚
> 1. ç»™çˆ½å¿«æ„Ÿæ‰“åˆ† (1-10)ã€‚
> 2. ä½ è§‰å¾—ç°åœ¨çš„éš¾åº¦æ˜¯â€˜æ— èŠâ€™ã€â€˜é€‚ä¸­â€™è¿˜æ˜¯â€˜å¤ªéš¾â€™ï¼Ÿ
> 3. å¦‚æœä½ è¦é€€æ¬¾ï¼Œä¼šæ˜¯å› ä¸ºä»€ä¹ˆï¼Ÿ"

---

## 3. å®æˆ˜è„šæœ¬ (Python + OpenAI API)

```python
import openai

def analyze_combat_log(log_json, persona="Timmy"):
    prompts = {
        "Timmy": "You are a casual gamer...",
        "Spike": "You are a competitive gamer..."
    }
    
    response = openai.ChatCompletion.create(
        model="gpt-4o",
        messages=[
            {"role": "system", "content": prompts[persona]},
            {"role": "user", "content": f"Analyze this log: {log_json}"}
        ]
    )
    return response.choices[0].message.content

# æ‰¹é‡è¿è¡Œ
for i in range(10):
    log = run_headless_game_simulation() # è¿è¡Œä¸€å±€æ¸¸æˆä»¿çœŸ
    feedback = analyze_combat_log(log)
    print(f"Round {i} Feedback: {feedback}")
```

---

## 4. æˆæœ¬ä¸æ”¶ç›Šåˆ†æ

*   **æˆæœ¬**ï¼š
    *   1 å±€æ—¥å¿—çº¦ 2k tokensã€‚
    *   GPT-4o-mini ä»·æ ¼æä½ã€‚
    *   è·‘ 100 å±€æµ‹è¯• < $0.5 ç¾å…ƒã€‚
*   **æ”¶ç›Š**ï¼š
    *   **å‘ç°éšæ€§ Bug**ï¼šAI å¯èƒ½ä¼šé—®â€œä¸ºä»€ä¹ˆæˆ‘æ»¡è¡€è¢«ä¸€åˆ€ç§’äº†ï¼Ÿâ€ï¼ŒæŒ‡å‡ºæ•°å€¼è¾¹ç•Œæº¢å‡ºã€‚
    *   **æƒ…æ„Ÿæ›²çº¿éªŒè¯**ï¼šæ£€æŸ¥æ³¢å³°æ³¢è°·æ˜¯å¦ç¬¦åˆè®¾è®¡é¢„æœŸï¼ˆDesign/Philosophy_And_Systems.mdï¼‰ã€‚

---

## 5. å±€é™æ€§
*   AI æ— æ³•æµ‹è¯•â€œæ‰‹æ„Ÿâ€ (Game Feel)ï¼Œå¦‚æ‰“å‡»æ„Ÿã€æ“ä½œå»¶è¿Ÿã€‚
*   AI å¯èƒ½ä¼šäº§ç”Ÿå¹»è§‰ (Hallucination)ï¼Œéœ€è¦äººå·¥æŠ½æŸ¥ã€‚

**ç»“è®º**ï¼šæ­¤å·¥å…·ç”¨äº**æ•°å€¼ä½“éªŒ**çš„åˆç­›ï¼Œè€Œéæœ€ç»ˆéªŒæ”¶ã€‚
