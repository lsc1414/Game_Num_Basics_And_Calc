# ğŸ§™â€â™‚ï¸ Unity ç²’å­ç³»ç»Ÿæ·±åº¦ç ”ç©¶ (Particle System Deep Dive)

> **"ç‰¹æ•ˆæ˜¯æ¸¸æˆçš„åŒ–å¦†æœ¯ï¼Œä½†ä¹Ÿå¯èƒ½æ˜¯æ˜¾å¡çš„ç«è‘¬åœºã€‚"**
>
> æœ¬æ–‡æ¡£æ—¨åœ¨è§£æ„ Unity ç²’å­ç³»ç»Ÿ (Shuriken)ï¼Œä»ç¾æœ¯åˆ¶ä½œç®¡çº¿ (Blender/Shader) åˆ°ç¨‹åºæ§åˆ¶ (C#)ï¼Œå†åˆ°è®¾è®¡åˆ†ç±»ã€‚

---

## ğŸ“š 1. ç†è®ºåŸºç¡€ (Theoretical Basis)

### ğŸ‡ ç‰¹æ•ˆåˆ†ç±»å­¦ (VFX Taxonomy)
åœ¨ *Vampirefall* ä¸­ï¼Œæˆ‘ä»¬æŠŠç‰¹æ•ˆåˆ†ä¸ºä¸‰ä¸ªå±‚çº§ï¼Œä¼˜å…ˆçº§é€’å‡ï¼š

1.  **Gameplay å…³é”®ç‰¹æ•ˆ (High Priority)**
    *   **å®šä¹‰:** ç©å®¶å¿…é¡»çœ‹åˆ°çš„é€»è¾‘åé¦ˆã€‚
    *   **ä¾‹å­:** æ€ªç‰©å—å‡»é£™è¡€ã€Boss æŠ€èƒ½é¢„è­¦åœˆ (Telegraph)ã€ç©å®¶å‡çº§é‡‘å…‰ã€æ‰è½ä¼ è¯´è£…å¤‡çš„å…‰æŸ±ã€‚
    *   **ç‰¹ç‚¹:** é«˜äº®åº¦ã€é«˜é¥±å’Œåº¦ã€æ°¸è¿œæ¸²æŸ“ (Always Simulate)ã€‚
2.  **ç¯å¢ƒæ°›å›´ç‰¹æ•ˆ (Medium Priority)**
    *   **å®šä¹‰:** å¢å¼ºæ²‰æµ¸æ„Ÿï¼Œä½†å¦‚æœä¸æ˜¾ç¤ºä¹Ÿä¸å½±å“ç©ã€‚
    *   **ä¾‹å­:** åœºæ™¯ä¸­çš„ç«æŠŠã€æ¼‚æµ®çš„å°˜åŸƒã€è¿œå¤„çš„é›·ç”µã€é›¨é›ªã€‚
    *   **ç‰¹ç‚¹:** åªæœ‰åœ¨è§†é‡å†…æ¸²æŸ“ï¼Œä½é€æ˜åº¦ã€‚
3.  **ä¿®é¥°æ€§ç‰¹æ•ˆ (Low Priority)**
    *   **å®šä¹‰:** çº¯ç²¹çš„ "Juice"ã€‚
    *   **ä¾‹å­:** è·‘æ­¥è„šä¸‹çš„çƒŸå°˜ã€UI æŒ‰é’®çš„æµå…‰ã€å­å¼¹æ‹–å°¾çš„å¾®å¼±æ‰°åŠ¨ã€‚
    *   **ç‰¹ç‚¹:** æ€§èƒ½åƒç´§æ—¶ç¬¬ä¸€ä¸ªè¢«å‰”é™¤ã€‚

### ğŸ¨ èŠ‚å¥ä¸åŠ¨æ€ (Timing & Dynamics)
ä¸€ä¸ªå¥½çš„ç²’å­ç‰¹æ•ˆé€šå¸¸éµå¾ª **"é¢„å¤‡-çˆ†å‘-æ¶ˆæ•£"** çš„åŠ¨ç”»åŸåˆ™ï¼š
1.  **Anticipation (é¢„å¤‡):** èšæ°”ã€å‘å…‰å˜äº®ã€‚ (0.1 - 0.3s)
2.  **Climax (çˆ†å‘):** ç²’å­ç¬é—´å¤§é‡å‘å°„ (Burst)ã€å†²å‡»æ³¢æ‰©æ•£ã€‚ (1å¸§ - 0.2s)
3.  **Dissipation (æ¶ˆæ•£):** é€Ÿåº¦å‡ç¼“ã€é€æ˜åº¦æ¸å˜è‡³0ã€ä½“ç§¯å˜å¤§ã€‚ (0.5s - 2s)

---

## ğŸ› ï¸ 2. å®è·µåº”ç”¨ (Practical Implementation)

### ğŸ­ åˆ¶ä½œç®¡çº¿ï¼šBlender, Shader ä¸ Unity çš„åå¥

å•çº¯é  Unity è‡ªå¸¦çš„â€œå°çƒâ€åšä¸å‡º 3A ç‰¹æ•ˆã€‚ç°ä»£å·¥ä½œæµæ˜¯ä¸‰ä½ä¸€ä½“çš„ï¼š

#### A. Blender: å½¢çŠ¶çš„ç¼”é€ è€…
ç²’å­ç³»ç»Ÿä¸ä»…èƒ½å‘å°„ Quad (é¢ç‰‡)ï¼Œè¿˜èƒ½å‘å°„ Mesh (æ¨¡å‹)ã€‚
*   **ç¢å— (Debris):** åœ¨ Blender ä¸­ç ´ç¢ä¸€ä¸ªçŸ³å¤´æ¨¡å‹ï¼Œå¯¼å…¥ Unity ä½œä¸ºç²’å­å‘å°„çš„ `Renderer -> Mesh`ã€‚
*   **ç‰¹æ®Šå…‰æ•ˆå½¢çŠ¶:** 
    *   åˆ¶ä½œä¸€ä¸ªåŠçƒä½“æˆ–åœ†é”¥ä½“æ¨¡å‹ã€‚
    *   åœ¨ Unity ä¸­ç»™å®ƒä¸Šä¸€ä¸ªæº¶è§£ Shaderã€‚
    *   é€šè¿‡ç²’å­ç³»ç»Ÿæ§åˆ¶å…¶æ—‹è½¬å’Œç¼©æ”¾ï¼Œåšå‡ºâ€œæ—‹é£æ–©â€æˆ–â€œæŠ¤ç›¾â€æ•ˆæœã€‚
    *   *UV æŠ€å·§:* åœ¨ Blender å±• UV æ—¶å°† UV æ‹‰ç›´ï¼Œå¯ä»¥è®©çº¹ç†åœ¨ Unity é‡Œæ²¿ç€æ¨¡å‹â€œæµåŠ¨â€ã€‚

#### B. Shader: çµé­‚æ³¨å…¥
ä¸è¦åªç”¨ `Particles/Standard Surface`ã€‚
*   **æº¶è§£ (Dissolve):** é…åˆå™ªå£°å›¾ (Noise Texture) æ§åˆ¶ Alpha Clipï¼Œåšå‡ºç°é£çƒŸç­çš„æ•ˆæœã€‚
*   **ç•¸å˜ (Distortion/Heat Haze):** ä½¿ç”¨ `GrabPass` æˆ– URP çš„ `CameraOpaqueTexture` æ‰­æ›²èƒŒæ™¯ï¼Œè¡¨ç°çˆ†ç‚¸çš„çƒ­æµªæˆ–å‰‘æ°”çš„å†²å‡»æ³¢åŠ¨ã€‚
*   **è²æ¶…å°” (Fresnel):** è®©ç²’å­è¾¹ç¼˜å‘å…‰ï¼Œä¸­é—´é€æ˜ï¼Œæå¤§åœ°å¢å¼ºèƒ½é‡ä½“çš„â€œä½“ç§¯æ„Ÿâ€ã€‚

#### C. Unity C#: è®©ç²’å­â€œæ´»â€èµ·æ¥ (Data-Driven VFX)
è¿™æ˜¯ç¨‹åºä¸ç¾æœ¯çš„äº¤æ±‡ç‚¹ã€‚**ä¸è¦æŠŠç‰¹æ•ˆåšæ­» Prefabï¼Œè¦è®©å®ƒéšæ•°å€¼å˜åŒ–ã€‚**

**æ¡ˆä¾‹ï¼šæ ¹æ®æ”»å‡»åŠ›æ”¹å˜ç«çƒå¤§å°å’Œé¢œè‰²**

```csharp
using UnityEngine;

[RequireComponent(typeof(ParticleSystem))]
public class DynamicFireball : MonoBehaviour
{
    private ParticleSystem _ps;
    private ParticleSystem.MainModule _main;
    private ParticleSystem.EmissionModule _emission;

    void Awake()
    {
        _ps = GetComponent<ParticleSystem>();
        _main = _ps.main;
        _emission = _ps.emission;
    }

    /// <summary>
    /// åˆå§‹åŒ–ç«çƒçŠ¶æ€
    /// </summary>
    /// <param name="damage">ä¼¤å®³å€¼ï¼ˆå½±å“å¤§å°ï¼‰</param>
    /// <param name="isCrit">æ˜¯å¦æš´å‡»ï¼ˆå½±å“é¢œè‰²ï¼‰</param>
    public void Setup(float damage, bool isCrit)
    {
        // 1. æ ¹æ®ä¼¤å®³å€¼çº¿æ€§æ”¾å¤§ç²’å­
        // åŸºç¡€å¤§å° 1.0ï¼Œæ¯ 100 ç‚¹ä¼¤å®³å¢åŠ  0.5 å€å¤§å°
        float scaleFactor = 1.0f + (damage / 100.0f) * 0.5f;
        
        // âš ï¸ æ³¨æ„ï¼šä¸è¦ç›´æ¥æ”¹ transform.localScaleï¼Œå› ä¸ºä¼šè¢«ç²’å­ç³»ç»Ÿè¦†ç›–ã€‚
        // è¦æ”¹ StartSizeã€‚å¦‚æœæ˜¯ 3D ç²’å­å¯èƒ½è¿˜éœ€è¦æ”¹ startSize3Dã€‚
        _main.startSizeMultiplier = scaleFactor; 

        // 2. æš´å‡»æ”¹å˜é¢œè‰²
        if (isCrit)
        {
            // æš´å‡»å˜ç´«ç«
            _main.startColor = new ParticleSystem.MinMaxGradient(Color.purple);
            
            // æš´å‡»å¢åŠ ç²’å­æ•°é‡ (Burst)
            // è¿™é‡Œçš„ GetBurst(0) å‡è®¾ä½  Prefab é‡Œè‡³å°‘é…ç½®äº†ä¸€ä¸ª Burst
            var burst = _emission.GetBurst(0);
            burst.count = new ParticleSystem.MinMaxCurve(20, 30); // å¢åŠ çˆ†è£‚æ„Ÿ
            _emission.SetBurst(0, burst);
        }
    }
}
```

### ğŸ§¬ Vampirefall æ ¸å¿ƒæ¨¡å—é€ŸæŸ¥

1.  **Emission (å‘å°„):**
    *   `Rate over Time`: æŒç»­å–·å°„ï¼ˆå¦‚å–·ç«å™¨ï¼‰ã€‚
    *   `Bursts`: ç¬é—´çˆ†å‘ï¼ˆå¦‚çˆ†ç‚¸ã€å¼€æªï¼‰ã€‚**æ‰“å‡»æ„Ÿæ¥æº**ã€‚
2.  **Shape (å½¢çŠ¶):**
    *   `Cone`: æœ€å¸¸ç”¨ï¼Œè°ƒèŠ‚ Angle å¯ä»¥å˜æˆæ‰‡å½¢æˆ–åœ†æŸ±ã€‚
    *   `Mesh`: ä»æ¨¡å‹è¡¨é¢å‘å°„ï¼ˆå¦‚å…¨èº«ç‡ƒçƒ§çš„æ•ˆæœï¼‰ã€‚
3.  **Velocity over Lifetime:**
    *   æ¨¡æ‹Ÿç©ºæ°”é˜»åŠ›ï¼ˆLinear Dragï¼‰ã€‚
    *   `Orbital`: åˆ¶ä½œå›´ç»•ä¸­å¿ƒæ—‹è½¬çš„é­”æ³•ç²’å­ã€‚
4.  **Size over Lifetime:**
    *   **å¿…è°ƒæ›²çº¿:** åŒæ ·æ˜¯ `0 -> 1 -> 0` (ä»å°å˜å¤§å†æ¶ˆå¤±)ï¼Œè¿™æ¯”çªç„¶æ¶ˆå¤±è¦è‡ªç„¶å¾—å¤šã€‚
5.  **Render Mode:**
    *   `Billboard`: æ°¸è¿œæœå‘æ‘„åƒæœºï¼ˆæ€§èƒ½æœ€å¥½ï¼‰ã€‚
    *   `Stretched Billboard`: é€Ÿåº¦è¶Šå¿«æ‹‰å¾—è¶Šé•¿ï¼ˆæ¨¡æ‹Ÿé€Ÿåº¦çº¿ã€ç«èŠ±ï¼‰ã€‚

---

## ğŸŒŸ 3. ä¸šç•Œä¼˜ç§€æ¡ˆä¾‹ (Industry Best Practices)

### âš”ï¸ Hades (å“ˆè¿ªæ–¯)
*   **æ¸…æ™°åº¦ä¼˜å…ˆ:** å³ä½¿æ»¡å±å¼¹å¹•ï¼ŒHades çš„ç‰¹æ•ˆä¹Ÿéå¸¸â€œå…‹åˆ¶â€ã€‚æ•Œäººçš„å­å¼¹é€šå¸¸æ˜¯**é«˜å¯¹æ¯”åº¦çš„çº¯è‰²è½®å»“**ï¼Œæ²¡æœ‰å¤šä½™çš„æ¨¡ç³Šå…‰æ™•ï¼Œç¡®ä¿ç©å®¶ä¸€çœ¼å°±èƒ½è¯†åˆ«åˆ¤å®šèŒƒå›´ã€‚
*   **å—å‡»é—ªç™½ (Flash):** æ•Œäººå—å‡»æ—¶ï¼ŒSprite ä¼šç¬é—´å˜å…¨ç™½ (Material Property Block)ï¼Œå åŠ å°‘é‡çš„ Sparks ç²’å­ã€‚è¿™ç§â€œå¾®ç‰¹æ•ˆâ€åé¦ˆæå¥½ä¸”ä¸æ‰å¸§ã€‚

### ğŸ’€ Dead Cells (æ­»äº¡ç»†èƒ)
*   **åƒç´ ç²’å­:** æ—¢ç„¶æ˜¯åƒç´ é£æ¸¸æˆï¼Œç²’å­ä¹Ÿæ˜¯ä¸€ä¸ªä¸ªå¤§çš„æ­£æ–¹å½¢åƒç´ ã€‚åƒä¸‡åˆ«åœ¨åƒç´ æ¸¸æˆé‡Œæ”¾é«˜æ¸…è¾‰å…‰çƒŸé›¾ï¼Œä¼šæåº¦è¿å’Œã€‚
*   **é¡¿å¸§ (Hit Stop):** ç²’å­çˆ†å‘çš„ä¸€ç¬é—´ï¼Œæ¸¸æˆé€»è¾‘æš‚åœ 0.1ç§’ã€‚è¿™è®©ç‰¹æ•ˆçœ‹èµ·æ¥æ›´æœ‰â€œåŠ›åº¦â€ã€‚

---

## ğŸ”— 4. å‚è€ƒèµ„æ–™ (References)

*   ğŸ“º **Mirza (YouTube):** Unity VFX æ•™ç¨‹å¤§ç¥ï¼Œå°¤å…¶æ“…é•¿ Shader + Particle ç»“åˆã€‚
*   ğŸ“º **Gabriel Aguiar Prod:** å¾ˆå¤šå…·ä½“çš„æŠ€èƒ½ç‰¹æ•ˆæ•™ç¨‹ï¼ˆç«çƒã€åˆ€å…‰ï¼‰ã€‚
*   ğŸŒ **RealtimeVFX:** å…¨çƒç‰¹æ•ˆç¾æœ¯å¸ˆè®ºå›ï¼Œå¯»æ‰¾çµæ„Ÿçš„å®åº“ã€‚
*   ğŸ“„ **[VFX Optimization Guide](../VFX_Optimization_Guide.md):** æœ¬é¡¹ç›®çš„ç‰¹æ•ˆæ€§èƒ½çº¢çº¿ï¼ˆå¿…è¯»ï¼‰ã€‚

---

## ğŸ” 5. ç²’å­ç‰¹æ•ˆå…³é”®å­—é€ŸæŸ¥è¡¨ (VFX Keyword Library)

åšæ¸¸æˆæ‰¾ç´ ææ—¶ï¼Œç”¨è‹±è¯­æœç´¢è¿œæ¯”ä¸­æ–‡å‡†ç¡®ã€‚è¯·ä½¿ç”¨ä»¥ä¸‹å…³é”®å­—ç»„åˆæœç´¢ Unity Asset Store æˆ–æ–‡ä»¶åã€‚

### ğŸ”¥ å…ƒç´ ä¸å±æ€§ (Element & Type)
| å…ƒç´  (CN) | å…³é”®å­— (EN) | å…³è”è¯ (Related) |
| :--- | :--- | :--- |
| **ç«** | `Fire`, `Flame` | `Burn`, `Ignite`, `Heat`, `Hell` |
| **å†°/æ°´** | `Ice`, `Frost` | `Freeze`, `Cold`, `Snow`, `Water`, `Splash`, `Bubble` |
| **ç”µ** | `Lightning` | `Electric`, `Spark`, `Thunder`, `Shock`, `Zap` |
| **æ¯’** | `Poison` | `Acid`, `Toxic`, `Venom`, `Goo`, `Slime` |
| **ç¥åœ£/å…‰** | `Holy` | `Divine`, `Light`, `Shine`, `Angel`, `Heal` |
| **æš—å½±/é‚ªæ¶** | `Dark` | `Shadow`, `Evil`, `Curse`, `Void`, `Abyss` |
| **è¡€** | `Blood` | `Gore`, `Bleed`, `Red` |
| **åœŸ/çŸ³** | `Earth` | `Rock`, `Stone`, `Debris`, `Dust`, `Sand` |
| **é£** | `Wind` | `Tornado`, `Swirl`, `Air`, `Breeze` |

### ğŸ’¥ åŠ¨ä½œä¸åŠŸèƒ½ (Action & Function)
| åŠ¨ä½œ (CN) | å…³é”®å­— (EN) | æè¿° |
| :--- | :--- | :--- |
| **æŠ›å°„ç‰©** | `Projectile` | `Missile`, `Bullet`, `Shot` (ç«çƒã€ç®­çŸ¢) |
| **å‘½ä¸­/å—å‡»** | `Hit` | `Impact`, `Strike`, `Damage` (æ‰“ä¸­ç›®æ ‡çš„ç¬é—´) |
| **çˆ†ç‚¸** | `Explosion` | `Bomb`, `Blast`, `Boom` (èŒƒå›´ä¼¤å®³) |
| **å¢ç›Š** | `Buff` | `PowerUp`, `Boost`, `Aura` (èº«ä¸Šçš„å…‰ç¯) |
| **å‡ç›Š** | `Debuff` | `Curse`, `Stun`, `Slow` (å¤´é¡¶çš„æ™•çœ©æ˜Ÿæ˜Ÿ) |
| **è“„åŠ›** | `Charge` | `Gather`, `Load` (æŠ€èƒ½é‡Šæ”¾å‰çš„èšæ°”) |
| **æ–½æ³•** | `Cast` | `Spell`, `Skill`, `Attack` (æŒ¥æ‰‹ç¬é—´çš„å…‰æ•ˆ) |
| **æ­»äº¡** | `Die` | `Death`, `Disappear`, `Soul` (æ€ªç‰©æ¶ˆå¤±) |
| **åˆ€å…‰** | `Slash` | `Trail`, `Sword`, `Cut`, `Swipe` (è¿‘æˆ˜æŒ¥ç è½¨è¿¹) |

### ğŸ“ å½¢çŠ¶ä¸åŠ¨æ€ (Shape & Motion)
| å½¢çŠ¶ (CN) | å…³é”®å­— (EN) | è§†è§‰ç‰¹å¾ |
| :--- | :--- | :--- |
| **å…‰ç¯** | `Aura` | å›´ç»•è§’è‰²èº«ä½“çš„æŒç»­å…‰æ•ˆ (å‡çº§ã€ç‹‚æš´)ã€‚ |
| **æ–°æ˜Ÿ/å†²å‡»æ³¢** | `Nova` | `Shockwave`, `Ripple`, `Ring` (å‘å››å‘¨æ‰©æ•£çš„åœ†ç¯)ã€‚ |
| **å…‰æŸ** | `Beam` | `Laser`, `Ray` (æŒç»­è¿æ¥ä¸¤ç‚¹çš„æ¿€å…‰)ã€‚ |
| **æ‹–å°¾** | `Trail` | `Ribbon` (è·Ÿéšè¿åŠ¨ç‰©ä½“çš„å°¾å·´)ã€‚ |
| **æŠ¤ç›¾** | `Shield` | `Barrier`, `Dome`, `Sphere` (åŠçƒä½“é˜²æŠ¤ç½©)ã€‚ |
| **åŒºåŸŸ** | `Zone` | `Area`, `Ground`, `Circle` (åœ°é¢çš„æ³•é˜µ/é¢„è­¦åœˆ)ã€‚ |
| **æ¼©æ¶¡** | `Vortex` | `Portal`, `Blackhole` (æ—‹è½¬çš„ä¼ é€é—¨)ã€‚ |

### ğŸ¨ é£æ ¼ (Style)
| é£æ ¼ (CN) | å…³é”®å­— (EN) | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **å¡é€š** | `Toon` | `Cartoon`, `Stylized`, `Cel-Shaded` (é€‚åˆ Vampirefall) |
| **å†™å®** | `Realistic` | `Cinematic` (é€šå¸¸ç²’å­æ•°è¿‡å¤šï¼Œæ…ç”¨) |
| **åƒç´ ** | `Pixel` | `Retro`, `8-bit`, `Voxel` (é€‚åˆåƒç´ æ¸¸æˆ) |
| **ä½å¤šè¾¹å½¢** | `LowPoly` | `Flat` (æ£±è§’åˆ†æ˜) |
| **å‘å…‰/éœ“è™¹** | `Glow` | `Neon`, `Cyberpunk` (èµ›åšæœ‹å…‹é£) |

---

## ğŸ¨ 6. å¸¸ç”¨ç²’å­ Shader è¯¦è§£ (Common VFX Shaders)

ç²’å­ç³»ç»Ÿæœ¬èº«åªæ˜¯å‘å°„å™¨ï¼ŒçœŸæ­£å†³å®šâ€œçœ‹èµ·æ¥åƒä»€ä¹ˆâ€çš„æ˜¯ Shaderã€‚

### ğŸ”¥ 1. Additive vs Alpha Blend (åŸºç¡€æ··åˆ)
*   **Additive (çº¿æ€§å‡æ·¡):** 
    *   **åŸç†:** `SrcAlpha One`ã€‚å°†åƒç´ äº®åº¦**å åŠ **åˆ°èƒŒæ™¯ä¸Šã€‚
    *   **ç”¨é€”:** å…‰æ•ˆã€ç«ç„°ã€é­”æ³•ã€æ¿€å…‰ã€‚
    *   **ç‰¹ç‚¹:** **è¶Šå è¶Šäº®**ï¼Œæ°¸è¿œä¸ä¼šäº§ç”Ÿé»‘è‰²ã€‚ä¸ä¼šæœ‰æ’åºé—®é¢˜ï¼ˆä¸ç”¨ç®¡è°åœ¨å‰è°åœ¨åï¼‰ã€‚
*   **Alpha Blend (é€æ˜æ··åˆ):** 
    *   **åŸç†:** `SrcAlpha OneMinusSrcAlpha`ã€‚æ ‡å‡†çš„é€æ˜åº¦æ··åˆã€‚
    *   **ç”¨é€”:** é»‘çƒŸã€ç°å°˜ã€ç¢ç‰‡ã€æ·±è‰²é­”æ³•ã€‚
    *   **ç¼ºç‚¹:** æœ‰æ’åºé—®é¢˜ (Sorting Issue)ï¼Œå¦‚æœä¸¤ä¸ªçƒŸé›¾é‡å ï¼Œå¾ˆå®¹æ˜“ç©¿å¸®ã€‚

### ğŸŒ«ï¸ 2. Dissolve / Erosion (æº¶è§£/ä¾µèš€)
*   **åŸç†:** è¯»å–ä¸€å¼ **å™ªå£°å›¾ (Noise Texture)**ï¼Œæ ¹æ®ä¸€ä¸ª `Cutoff` å€¼è£å‰ªåƒç´ ã€‚
    *   `if (noise_value < cutoff) discard;`
*   **ç”¨é€”:** 
    *   **æ¶ˆå¤±:** ç«çƒæ¶ˆæ•£ã€ä¼ é€é—¨å…³é—­ã€‚
    *   **å½¢çŠ¶å˜åŒ–:** ç”¨åœ†å½¢ mask é…åˆå™ªå£°ï¼Œå¯ä»¥åšå‡ºè¾¹ç¼˜ä¸è§„åˆ™çš„ç«çƒã€‚
    *   **Remap:** å°†æº¶è§£è¾¹ç¼˜æ˜ å°„ä¸ºå‘å…‰è‰² (Edge Color)ï¼Œåšå‡ºç‡ƒçƒ§æ®†å°½çš„ä½™çƒ¬æ•ˆæœã€‚

### ğŸ˜µ 3. Distortion / Refraction (æ‰­æ›²/çƒ­æ‰°åŠ¨)
*   **åŸç†:** 
    *   **GrabPass:** å…ˆæŠŠå½“å‰å±å¹•æˆªå›¾ã€‚
    *   **Offset:** æ ¹æ®æ³•çº¿è´´å›¾ (Normal Map) åç§» UV é‡‡æ ·å±å¹•æˆªå›¾ã€‚
*   **ç”¨é€”:** çˆ†ç‚¸æ—¶çš„çƒ­æµª (Heat Haze)ã€å‰‘æ°”åˆ’è¿‡ç©ºæ°”çš„æ³¢åŠ¨ã€æ°´æ³¢çº¹ã€‚
*   **æ€§èƒ½è­¦ç¤º:** å°¤å…¶åœ¨ç§»åŠ¨ç«¯ï¼ŒGrabPass å¼€é”€å¾ˆå¤§ã€‚URP ä¸‹å»ºè®®ä½¿ç”¨ Opaque Textureã€‚

### ğŸ”† 4. Fresnel / Rim (è²æ¶…å°”/è¾¹ç¼˜å…‰)
*   **åŸç†:** `dot(Normal, ViewDir)`ã€‚è®¡ç®—è¡¨é¢æ³•çº¿å’Œè§†çº¿è§’åº¦çš„ç‚¹ç§¯ã€‚
*   **ç”¨é€”:** 
    *   **èƒ½é‡ç½©:** è¾¹ç¼˜äº®ï¼Œä¸­é—´é€ã€‚
    *   **ä½“ç§¯æ„Ÿ:** è®©çƒå½¢ç²’å­çœ‹èµ·æ¥åƒä¸ªçƒï¼Œè€Œä¸æ˜¯å¹³é¢åœ†ã€‚

### ğŸŒŠ 5. UV Scroll / Flow (UV æµåŠ¨)
*   **åŸç†:** `UV += Time * Speed`ã€‚
*   **ç”¨é€”:** 
    *   **æ¿€å…‰:** çº¹ç†å¿«é€Ÿåœ¨ä¸€æ ¹æé•¿çš„ Quad ä¸ŠæµåŠ¨ã€‚
    *   **ç†”å²©/æ°´æµ:** ç¼“æ…¢æµåŠ¨ã€‚
    *   **æ‹–å°¾:** è®©å‰‘å…‰çš„çº¹ç†åŠ¨èµ·æ¥ï¼Œè€Œä¸æ˜¯åƒµç¡¬çš„æ‹–æ‹½ã€‚

### ğŸŒ‰ 6. Soft Particles (è½¯ç²’å­/æ·±åº¦æ¶ˆéš)
*   **åŸç†:** è¯»å– `SceneDepth` (åœºæ™¯æ·±åº¦) å’Œå½“å‰åƒç´  Deepth å¯¹æ¯”ã€‚å¦‚æœéå¸¸æ¥è¿‘ï¼Œåˆ™æŠŠ Alpha è®¾ä¸º 0ã€‚
*   **ç”¨é€”:** è§£å†³ç²’å­å’Œåœ°é¢/å¢™å£ç›¸äº¤æ—¶çš„â€œç¡¬åˆ‡è¾¹â€ (Hard Edge) é—®é¢˜ï¼Œè®©çƒŸé›¾ä¸åœ°é¢èåˆæ›´è‡ªç„¶ã€‚

### ğŸï¸ 7. Flipbook (åºåˆ—å¸§)
*   **åŸç†:** ä¸æ”¹å˜ Shaderï¼Œè€Œæ˜¯ç”±ç²’å­ç³»ç»Ÿæ§åˆ¶ UV è·³å˜ã€‚
*   **ç”¨é€”:** 
    *   **çˆ†ç‚¸:** ä» 4x4 æˆ– 8x8 çš„å›¾é›†ä¸­æ’­æ”¾ä¸€æ®µæ‰‹ç»˜åŠ¨ç”»ã€‚
    *   **æ€§èƒ½:** ç›¸æ¯”å‘å°„ 64 ä¸ªç²’å­æ¨¡æ‹Ÿçˆ†ç‚¸ï¼Œæ’­æ”¾ 1 ä¸ªåºåˆ—å¸§ç²’å­è™½ç„¶æ˜¾å­˜å ç”¨é«˜ç‚¹ï¼Œä½† CPU/GPU è¿ç®—å‹åŠ›æå°ã€‚

---

## âš—ï¸ 7. æ··åˆæ¨¡å¼æ·±åº¦è§£æ (Blend Modes Deep Dive)

"æ··åˆ" (Blending) æ˜¯æŒ‡ GPU å¦‚ä½•å°†å½“å‰ç”»çš„åƒç´  (Source) ä¸å±å¹•ä¸Šå·²æœ‰çš„åƒç´  (Destination) ç»“åˆã€‚ç†è§£è¿™ä¸ªæ•°å­¦å…¬å¼æ˜¯æˆä¸ºé«˜çº§ç‰¹æ•ˆå¸ˆçš„å…³é”®ã€‚

### ğŸ“ æ ¸å¿ƒå…¬å¼
> **FinalColor = (SrcColor * SrcFactor) + (DstColor * DstFactor)**

*   **Src (Source):** å½“å‰ç²’å­çš„é¢œè‰²ã€‚
*   **Dst (Destination):** å±å¹•èƒŒæ™¯çš„é¢œè‰²ã€‚
*   **Factor:** æ··åˆç³»æ•°ã€‚

### ğŸ§¬ å››å¤§å¸¸ç”¨æ¨¡å¼

#### 1. Additive (å åŠ /çº¿æ€§å‡æ·¡)
*   **å…¬å¼:** `Src * SrcAlpha + Dst * 1`
*   **Shader:** `Blend SrcAlpha One`
*   **æ•ˆæœ:** æ€»æ˜¯å˜äº®ã€‚é»‘è‰² (0,0,0) ä¼šå˜æˆé€æ˜ã€‚
*   **é€‚ç”¨:** ç«ç„°ã€å…‰çƒã€æ¿€å…‰ã€å…¨æ¯æŠ•å½±ã€‚
*   **ä¼˜ç‚¹:** **æ²¡æœ‰æ’åºé—®é¢˜ (No Sorting Issue)**ã€‚å› ä¸º `A+B` å’Œ `B+A` ç»“æœä¸€æ ·ï¼Œæ‰€ä»¥ç²’å­è°å‰è°åæ— æ‰€è°“ã€‚

#### 2. Alpha Blend (æ­£å¸¸é€æ˜)
*   **å…¬å¼:** `Src * SrcAlpha + Dst * (1 - SrcAlpha)`
*   **Shader:** `Blend SrcAlpha OneMinusSrcAlpha`
*   **æ•ˆæœ:** åƒç»ç’ƒæˆ–çƒŸé›¾ä¸€æ ·é®æŒ¡èƒŒæ™¯ã€‚
*   **é€‚ç”¨:** æ³¥åœŸã€ç°å°˜ã€æµ“çƒŸã€çŸ³å¤´ã€‚
*   **ç¼ºç‚¹:** **æ’åºæ•æ„Ÿ (Sorting Dependent)**ã€‚
    *   å¿…é¡»**ä»åå¾€å‰**ç”»ã€‚å¦‚æœå…ˆç”»äº†å‰é¢çš„çƒŸé›¾ï¼Œæ·±åº¦å†™å…¥äº†ç¼“å†²åŒºï¼Œåé¢çš„çƒŸé›¾å› ä¸ºæ·±åº¦æµ‹è¯•å¤±è´¥å°±ä¸ç”»äº†ï¼Œä¼šå¯¼è‡´â€œåˆ‡è¾¹â€ã€‚
    *   *ä¼˜åŒ–:* é€šå¸¸å…³é—­ Alpha Blend ç²’å­çš„ Z-Write (æ·±åº¦å†™å…¥) æ¥ç¼“è§£åˆ‡è¾¹ï¼Œä½†ä¼šå¯¼è‡´é€è§†å…³ç³»é”™è¯¯ã€‚

#### 3. Premultiplied Alpha (é¢„ä¹˜ Alpha)
*   **å…¬å¼:** `Src * 1 + Dst * (1 - SrcAlpha)`
*   **Shader:** `Blend One OneMinusSrcAlpha`
*   **åŸç†:** åœ¨çº¹ç†åˆ¶ä½œé˜¶æ®µï¼Œå·²ç»æŠŠ RGB ä¹˜ä»¥äº† Alphaã€‚
*   **é€‚ç”¨:** åŒæ—¶éœ€è¦â€œå‘å…‰â€å’Œâ€œé®æŒ¡â€çš„æ•ˆæœï¼ˆå¦‚å¸¦é»‘è¾¹çš„ç«ç„°ï¼‰ã€‚ä¹Ÿæ˜¯ UI æ ‡å‡†æ··åˆæ¨¡å¼ã€‚
*   **ä¼˜ç‚¹:** è§£å†³äº† Alpha Blend åœ¨çº¹ç†è¾¹ç¼˜å‡ºç°çš„â€œé»‘è¾¹â€æˆ–â€œç™½è¾¹â€é—®é¢˜ã€‚

#### 4. Multiply (ä¹˜æ³•/æ­£ç‰‡å åº•)
*   **å…¬å¼:** `Src * Dst + Dst * 0` (ç®€åŒ–ç‰ˆ: `Src * Dst`)
*   **Shader:** `Blend DstColor Zero`
*   **æ•ˆæœ:** æ€»æ˜¯å˜æš—ã€‚ç™½è‰² (1,1,1) æ˜¯é€æ˜ã€‚
*   **é€‚ç”¨:** é»‘è‰²é­”æ³•ã€åœ°é¢ç„¦ç—•ã€é˜´å½±ã€‚

### ğŸ”§ æ··åˆæ¨¡å¼å†³ç­–æ ‘
*   æƒ³è¦å˜äº®ï¼Ÿ -> **Additive**
*   æƒ³è¦å˜æš—ï¼Ÿ -> **Multiply**
*   æƒ³è¦é®æŒ¡èƒŒæ™¯ï¼Ÿ -> **Alpha Blend**
*   æƒ³è¦å‘å…‰ä½†æˆ‘ä¹Ÿæƒ³è®©å®ƒé»‘ä¸€ç‚¹ï¼Ÿ -> **Premultiplied** æˆ– **Alpha Blend** (ä½†å¯ä»¥è°ƒæ•´é¢œè‰²å³ HDR)


---

## ğŸ¨ 8. é¢œè‰²æ§åˆ¶çš„åŒé‡å¥ (Color: Shader vs Particle System)

å¾ˆå¤šæ–°æ‰‹ä¼šå›°æƒ‘ï¼šShader é‡Œæœ‰ä¸ª `Color` (æˆ– `Tint`)ï¼Œç²’å­ç»„ä»¶é‡Œä¹Ÿæœ‰ `Start Color` å’Œ `Color over Lifetime`ï¼Œåˆ°åº•æ”¹å“ªä¸ªï¼Ÿ

### âœ–ï¸ æ ¸å¿ƒé€»è¾‘ï¼šä¹˜æ³• (Multiplication)
GPU è®¡ç®—æœ€ç»ˆé¢œè‰²é€šå¸¸éµå¾ªè¿™ä¸ªå…¬å¼ï¼š
> **FinalColor = TextureColor * ShaderColor * ParticleVertexColor**

*   **TextureColor:** ä½ çš„è´´å›¾é¢œè‰²ï¼ˆæ¯”å¦‚ç«ç„°çº¹ç†æœ¬èº«æ˜¯æ©˜é»„è‰²çš„ï¼‰ã€‚
*   **ShaderColor:** æè´¨çƒä¸Šè®¾ç½®çš„ `Main Color` / `Tint Color`ã€‚
*   **ParticleVertexColor:** ç²’å­ç³»ç»Ÿé¢æ¿é‡Œçš„ `Start Color` æˆ– `Color over Lifetime`ã€‚

è¿™æ„å‘³ç€ï¼š**ä»»ä½•ä¸€é¡¹æ˜¯é»‘è‰²çš„ï¼Œç»“æœå°±æ˜¯é»‘è‰²çš„ã€‚ä»»ä½•ä¸€é¡¹æ˜¯é€æ˜çš„ (Alpha=0)ï¼Œç»“æœå°±æ˜¯å®Œå…¨çœ‹ä¸è§ã€‚**

### âš”ï¸ èŒè´£åˆ†å·¥ (Best Practices)

#### 1. Shader Color (æè´¨è‰²) -> "åŸºè°ƒ"
*   **è®¾ç½®:** åœ¨ Material é¢æ¿é‡Œè®¾ç½®ã€‚
*   **ç”¨æ³•:** 
    *   é€šå¸¸è®¾ä¸º **çº¯ç™½ (255, 255, 255, 255)**ã€‚
    *   **ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸ºç™½è‰²æ˜¯ä¹˜æ³•çš„â€œå•ä½å…ƒâ€ (`1 * x = x`)ã€‚è®¾ä¸ºç™½è‰²æ„å‘³ç€å®Œå…¨ç”±ç²’å­ç³»ç»Ÿæ¥æ¥ç®¡é¢œè‰²æ§åˆ¶ã€‚
    *   *ä¾‹å¤–:* å¦‚æœä½ æƒ³ç»Ÿä¸€è°ƒæ•´æ•´ä¸ªç‰¹æ•ˆçš„äº®åº¦ï¼ˆæ¯”å¦‚å¤œé—´æ¨¡å¼æ•´ä½“å˜æš—ï¼‰ï¼Œå¯ä»¥æ”¹è¿™é‡Œã€‚

#### 2. Particle System Color (é¡¶ç‚¹è‰²) -> "åŠ¨æ€"
*   **è®¾ç½®:** `Start Color`, `Color over Lifetime`, `Color by Speed`ã€‚
*   **ç”¨æ³•:** **ç»å¤§å¤šæ•°é¢œè‰²å˜åŒ–éƒ½åœ¨è¿™é‡Œåšã€‚**
    *   **Start Color:** ç”¨äºåšéšæœºæ€§ï¼ˆæ¯”å¦‚éšæœºå‡ºçº¢è‰²ç«å’Œé»„è‰²ç«ï¼‰ã€‚
    *   **Color over Lifetime:** è¿™ä¸€é¡¹è‡³å…³é‡è¦ã€‚
        *   **Fade In/Out:** å¿…é¡»æŠŠä¸¤ç«¯çš„ Alpha è®¾ä¸º 0ï¼Œè®©ç²’å­äº§ç”Ÿæ·¡å…¥æ·¡å‡ºçš„æ•ˆæœï¼Œé¿å…ç”Ÿç¡¬çš„å‡ºç°å’Œæ¶ˆå¤±ã€‚
        *   **å˜è‰²:** ç«ç„°ä»ä¸­å¿ƒï¼ˆé»„è‰²ï¼‰é£å‘è¾¹ç¼˜å˜æˆï¼ˆçº¢è‰²ï¼‰å†å˜æˆçƒŸé›¾ï¼ˆç°è‰²ï¼‰ã€‚

### âš ï¸ å¸¸è§å‘ç‚¹
1.  **Shader è®¾äº†é¢œè‰²ï¼Œç²’å­ä¹Ÿè®¾äº†é¢œè‰²ï¼š** ç»“æœé¢œè‰²å˜è„æˆ–å˜å¾—è¿‡æš—ã€‚
    *   *ä¾‹:* Shader æ˜¯çº¢è‰²ï¼Œç²’å­æ˜¯ç»¿è‰² -> ç»“æœæ˜¯é»‘è‰²/æ·±æ£•è‰² (R * 0 + 0 * G)ã€‚
2.  **æè´¨ä¸æ”¯æŒé¡¶ç‚¹è‰² (Vertex Color):**
    *   å¦‚æœä½ è‡ªå·±å†™ Shaderï¼Œå¿…é¡»åœ¨ Vertex Shader é‡ŒæŠŠ `appdata.color` ä¼ ç»™ Fragment Shaderï¼Œå¹¶åœ¨ Fragment Shader é‡Œä¹˜ä¸Šå»ã€‚
    *   *ç—‡çŠ¶:* æ— è®ºæ€ä¹ˆè°ƒ `Color over Lifetime`ï¼Œç²’å­é¢œè‰²éƒ½ä¸å˜ã€‚è¯´æ˜ä½ çš„ Shader å¿˜äº†ä¹˜ Vertex Colorã€‚
    *   *Unityè‡ªå¸¦Shader:* `Particles/Standard` é»˜è®¤æ˜¯æ”¯æŒçš„ã€‚

### ğŸ’¡ é¢œè‰²è®¾ç½®é»„é‡‘æ³•åˆ™
1.  **è´´å›¾ (Texture):** å°½é‡ç”¨**é»‘ç™½ç° (Grayscale)**ã€‚
    *   å¦‚æœæ˜¯é»‘ç™½å›¾ï¼Œä½ å¯ä»¥åœ¨ç²’å­ç³»ç»Ÿé‡Œéšä¾¿æŠŠå®ƒæŸ“æˆçº¢è‰²ã€è“è‰²ã€ç»¿è‰²ã€‚
    *   å¦‚æœæ˜¯çº¢è‰²çš„ç«è´´å›¾ï¼Œä½ å°±å¾ˆéš¾æŠŠå®ƒæŸ“æˆè“è‰²ï¼ˆåªèƒ½å¾—åˆ°ç´«è‰²æˆ–é»‘è‰²ï¼‰ã€‚
2.  **æè´¨ (Material):** è®¾ä¸º**ç™½è‰²**ã€‚
3.  **ç²’å­ (System):** åœ¨è¿™é‡Œå°½æƒ…æŒ¥æ´’é¢œè‰²ã€‚

---

## ğŸ 9. è°ƒè¯•ä¸è¿­ä»£ (Debugging & Iteration)

å½“ç²’å­ç‰¹æ•ˆå¤šèµ·æ¥ï¼Œä¸”è§¦å‘æ¡ä»¶å„å¼‚ï¼ˆæ¯”å¦‚â€œæš´å‡»æ—¶â€ã€â€œåŠè¡€æ—¶â€ã€â€œæ­»äº¡æ—¶â€ï¼‰æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¿è¡Œæ¸¸æˆå»æµ‹ï¼Œæ•ˆç‡å¤ªä½ã€‚æˆ‘ä»¬éœ€è¦æ›´èªæ˜çš„è°ƒè¯•æ–¹æ³•ã€‚

### â±ï¸ 1. åœºæ™¯è§†å›¾è°ƒè¯• (Scene View Debugging)
Unity Scene çª—å£å³ä¸‹è§’æœ‰ä¸€ä¸ªç²’å­æ§åˆ¶é¢æ¿ï¼ˆé€‰ä¸­å¸¦ ParticleSystem çš„ç‰©ä½“æ—¶å‡ºç°ï¼‰ã€‚
*   **Simulate Layers:** å‹¾é€‰å®ƒå¯ä»¥è®©ä½ æ‹–åŠ¨çˆ¶ç‰©ä½“æ—¶ï¼Œå­ç‰©ä½“ç²’å­ä¹Ÿè·Ÿç€åŠ¨ï¼ˆé¢„è§ˆæ‹–å°¾æ•ˆæœå¿…å¼€ï¼‰ã€‚
*   **Playback Speed:** è®¾ä¸º **0.1**ã€‚æ…¢æ”¾æ˜¯æ£€æŸ¥â€œç©¿å¸®â€ç¥æŠ€ã€‚ä½ å¯ä»¥çœ‹æ¸…ç²’å­æ˜¯ä»å“ªé‡Œå˜å‡ºæ¥çš„ï¼Œæˆ–è€…æœ‰æ²¡æœ‰è«åå…¶å¦™çš„è·³å˜ã€‚
*   **Resimulate:** å¦‚æœä½ çš„ç²’å­ç”¨äº† `Random Seed`ï¼Œç‚¹å‡»è¿™ä¸ªå¯ä»¥çœ‹åˆ°ä¸åŒçš„éšæœºç»“æœã€‚

### ğŸ›ï¸ 2. è‡ªåˆ¶ VFX é¢„è§ˆå™¨ (The VFX Jukebox)
ä¸è¦ä¸ºäº†æµ‹ä¸€ä¸ªâ€œBoss æ­»äº¡ç‰¹æ•ˆâ€å»æ‰“ååˆ†é’Ÿ Bossã€‚å†™ä¸€ä¸ªç®€å•çš„ Editor å·¥å…·ã€‚

**VFXPreviewWindow.cs (ç®€æ˜“ç‰ˆæ€è·¯):**
```csharp
// åœ¨ Editor æ–‡ä»¶å¤¹ä¸‹
public class VFXPreviewWindow : EditorWindow
{
    GameObject _vfxPrefab;
    
    void OnGUI()
    {
        _vfxPrefab = (GameObject)EditorGUILayout.ObjectField("VFX Prefab", _vfxPrefab, typeof(GameObject), false);
        
        if (GUILayout.Button("Play Effect"))
        {
            var instance = Instantiate(_vfxPrefab, Vector3.zero, Quaternion.identity);
            // 5ç§’åè‡ªåŠ¨é”€æ¯ï¼Œä¿æŒåœºæ™¯å¹²å‡€
            DestroyImmediate(instance, 5.0f); 
        }
    }
}
```

### âš¡ 3. ä½¿ç”¨ Odin Inspector å¿«é€Ÿæµ‹è¯• (Odin Workflow)
å¦‚æœé¡¹ç›®é‡Œæœ‰ Odin Inspectorï¼Œå¯ä»¥åœ¨ `DynamicFireball.cs` è„šæœ¬é‡Œç›´æ¥åŠ æµ‹è¯•æŒ‰é’®ã€‚è¿™æ¯”å†™ EditorWindow æ›´å¿«ã€‚

```csharp
public class DynamicFireball : MonoBehaviour
{
    // ... ä¹‹å‰çš„ä»£ç  ...

    [Button("Test Low Energy (Small/Blue)"), GUIColor(0, 1, 1)]
    void TestLow()
    {
        Setup(damage: 10, isCrit: false);
        GetComponent<ParticleSystem>().Play();
    }

    [Button("Test ULTIMATE (Big/Purple)"), GUIColor(1, 0, 1)]
    void TestHigh()
    {
        Setup(damage: 9999, isCrit: true);
        GetComponent<ParticleSystem>().Play();
    }
}
```
**ä¼˜åŠ¿:** ç”šè‡³å¯ä»¥åœ¨**è¿è¡Œæ—¶** (Play Mode) ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œç›´æ¥ä¿®æ”¹å½“å‰é£å‡ºå»çš„ç«çƒï¼Œè§‚å¯Ÿæ•ˆæœã€‚

### ğŸ›‘ 4. è¾¹ç•Œæ¡†è°ƒè¯• (Bounding Box)
æœ‰æ—¶å€™ç²’å­åœ¨å±å¹•è¾¹ç¼˜ä¼šçªç„¶æ¶ˆå¤±ã€‚è¿™æ˜¯å› ä¸º Unity è®¤ä¸ºå®ƒâ€œå‡ºç•Œâ€äº†æ‰€ä»¥å‰”é™¤äº†å®ƒã€‚
*   **é€‰ä¸­ç²’å­ç³»ç»Ÿ -> Renderer -> Max Particle Size:** å¦‚æœç²’å­å¾ˆå¤§ï¼ŒæŠŠè¿™ä¸ªå€¼è°ƒå¤§ã€‚
*   **Scene View Gizmos:** å‹¾é€‰ `Show Bounds`ã€‚å¦‚æœçœ‹åˆ°æ©™è‰²çš„æ¡†æ¯”ä½ çœ‹åˆ°çš„ç²’å­ç”»é¢å°ï¼Œé‚£å°±æ˜¯ Bounds æ²¡æ›´æ–°ã€‚
*   **è§£å†³æ–¹æ³•:** åœ¨é¢æ¿é‡Œç‚¹ `Culling Mode -> Always Simulate` (æœ€è´µä½†æœ€ç¨³) æˆ–è€…å®šæ—¶è°ƒç”¨ `RecalculateBounds()`ã€‚
