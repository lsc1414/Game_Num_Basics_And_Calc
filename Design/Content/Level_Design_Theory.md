# 🗺️ 关卡设计理论：节奏、空间与引导 (Level Design Theory)

> **核心理念**: 优秀的关卡设计是**无形**的。它在玩家不知不觉中教会他们规则，引导他们去往正确的地方，并在他们即将厌倦时提供新的刺激。

## 1. 🏯 空间结构理论 (Spatial Structure)

在塔防与动作混合的游戏中，空间决定了策略。

### 1.1 路径类型 (Path Typology)
*   **单线型 (The Corridor)**: 怪物只有一条路。最简单，适合教学关。玩家只需把火力集中在一点。
*   **分岔型 (The Fork)**: 怪物分两路，最后汇合。强迫玩家分散火力或寻找交汇点（Kill Zone）。
*   **多入口型 (Multi-Spawn)**: 怪物从东南西北涌入，保护中心。这是 *Vampire Survivors* 的典型结构，考验玩家的 AOE 能力和走位。
*   **循环型 (The Loop)**: 怪物会绕圈（如围绕核心），给玩家更多的输出时间，但一旦漏怪就很难追回。

### 1.2 扼守点与杀戮区 (Choke Points & Kill Zones)
*   **定义**: 地图中地形狭窄，强迫怪物聚集成一团的区域。
*   **设计原则**:
    *   **黄金位**: 扼守点旁边必须有 1-2 个“高价值”造塔位。
    *   **陷阱**: 扼守点是放置减速塔、地雷的最佳位置。
    *   **玩家引导**: 通过地形（石头、树木）自然地将怪物“挤”到扼守点，而不是用空气墙。

### 1.3 视线与遮挡 (Line of Sight / LoS)
*   **应用**: 在 3D 塔防中，视线遮挡是高级策略。
*   **掩体**: 在路径中间放置一块巨石。
    *   **塔**: 直射塔（机枪）打不到石头后面的怪。
    *   **怪**: 远程怪会躲在石头后面攻击塔。
    *   **对策**: 玩家必须建造抛射塔（迫击炮）或亲自绕后解决。

## 2. 📈 节奏控制理论 (Pacing & Flow)

关卡不是静态的，它是**时间**的艺术。

### 2.1 起承转合 (Kishōtenketsu) - 任天堂关卡法
*   **起 (Introduction)**: 安全环境下引入新机制。
    *   *例子*: 出现一种带护盾的怪，单独一只，慢慢走，玩家发现普攻打不动，直到造了激光塔。
*   **承 (Development)**: 稍微增加难度。
    *   *例子*: 护盾怪成群出现，混杂在普通怪里。
*   **转 (Twist)**: 机制反转或结合。
    *   *例子*: 护盾怪学会了冲锋，或者配合加血怪一起出现。
*   **合 (Conclusion)**: 终极考验 (Mastery)。
    *   *例子*: BOSS 战，BOSS 自带巨型护盾，还会召唤小护盾怪。

### 2.2 强度曲线 (Intensity Curve)
*   **锯齿状上升**: 永远不要让难度呈直线增加。
    *   Wave 1: 简单 (热身)
    *   Wave 2: 中等
    *   Wave 3: **困难 (压力测试)**
    *   Wave 4: 简单 (休息/奖励/整顿) -> **关键的低谷**，给玩家喘息和花钱的时间。
    *   Wave 5: 极难 (BOSS)

## 3. 🧭 引导与教学 (Guidance & Tutorial)

### 3.1 视觉引导 (Visual Language)
*   **光照**: 把光打在重要的路口或目标点上。人眼本能趋光。
*   **路标**: 地面上的车辙印、血迹、散落的金币，都能暗示“怪物从哪来”或“该往哪走”。
*   **地标 (Landmarks)**: 远处的巨大雕像或高塔，帮助玩家定位方向（在开放地图中尤为重要）。

### 3.2 既然是塔防... (TD Specifics)
*   **预警线**: 在波次开始前，用红线画出怪物即将行走的路径。
    *   *重要性*: 既然策略重于反应，就必须给玩家**完全的信息**。隐藏路径不仅不难，反而令人沮丧。
*   **建筑网格**: 在玩家进入建造模式时，清晰地显示网格和不可建造区域 (红/绿格)。

## 4. 🛠️ 关卡设计检查清单 (Checklist)

1.  **策略多样性**: 这张图是否只有一种最优解？如果是，重做。
2.  **防守点**: 是否有明显的“最佳防守位”？是否有给远程英雄发挥的高台？
3.  **防卡死**: 所有的出生点到终点是否保证连通？（防止玩家用塔堵死路）。
4.  **时长**: 一局是否控制在 15-20 分钟？（移动端黄金时长）。

## 5. 案例分析：Dust 2 (CS:GO) vs Kingdom Rush
*   **Dust 2**: 经典的“田”字型结构。中门 (Mid) 是核心争夺点，连接 A/B 两点。塔防也可以借鉴这种**多线互通**结构，让玩家在两条路之间疲于奔命，必须用传送门或高机动英雄救场。
*   **Kingdom Rush**: 每一关都引入一个新塔或新怪。利用地形（如从河里突然钻出的怪）打破玩家的既定防线，强迫重建。

