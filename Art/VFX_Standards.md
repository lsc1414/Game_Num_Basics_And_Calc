# ✨ 视觉特效设计与性能规范 (VFX Standards)

VFX 是游戏爽感的来源，也是性能杀手。本文档旨在平衡“酷炫”与“流畅”。

---

## 1. 特效分级 (Visual Hierarchy)

不要让所有特效都一样亮！如果全屏都是“大招”，那玩家就什么都看不见了。

| 等级 | 亮度 (HDR) | 持续时间 | 用途 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| **Tier 1 (High)** | 5.0+ | 1-3s | 大招、Boss技能、升级特效 | 烈焰风暴、全屏冰冻 |
| **Tier 2 (Med)** | 2.0 - 3.0 | 0.5s | 核心技能、暴击反馈 | 火球术、挥剑光效 |
| **Tier 3 (Low)** | < 1.0 | < 0.3s | 普攻、受击火花、脚步烟尘 | 子弹命中、跑动尘土 |

*规则:* 同一时间，屏幕上 Tier 1 特效不应超过 2 个。

## 2. 颜色编码 (Color Coding)

在混乱的战场中，颜色必须传递准确的信息。

*   **玩家技能:** 金色、亮蓝、纯白。 (高饱和，让人感觉安全/正义)
*   **怪物技能:** 
    *   *普通:* 浑浊的绿色、土黄。
    *   *危险 (警示):* 鲜红、紫黑。 (看到这种颜色必须躲避)
*   **预警圈 (Telegraphs):**
    *   所有的 Boss 范围技能必须先播放一个 **半透明的红色预警圈**，延迟 0.5s 后再播放实际爆炸特效。

## 3. 性能优化规范 (Optimization)

### 3.1 Overdraw 控制
*   **减少粒子面积:** 尽量用多颗小粒子代替一颗覆盖全屏的大粒子。
*   **减少层数:** 烟雾、火焰等半透明材质，层叠不要超过 3 层。
*   **Mesh 优于 Billboard:** 对于大量重复的特效（如雨点、魔法飞弹），使用 Mesh Particle 往往比 Billboard 更快。

### 3.2 贴图合并 (Texture Atlasing)
*   不要给每个特效单独用一张 512x512 贴图。
*   建立 **VFX_Atlas_Common**: 把火花、光晕、烟雾、噪点图合并到一张 2048 图集中。

### 3.3 自动销毁 (Culling)
*   **距离剔除:** 距离摄像机 > 30米的特效，直接停止播放或不生成。
*   **数量限制:** 同种特效（如受击火花）限制同屏最多 20 个，超过则回收最早生成的。

## 4. 制作管线 (Pipeline)

*   **工具:** Unity Shader Graph + Visual Effect Graph (VFX Graph) 或 Shuriken (旧版粒子)。
*   **标准 Shader:** 禁止使用 Standard Shader 做特效。必须使用专门的 `Particles/Standard Unlit` 或自定义的 Additive/AlphaBlended Shader。

